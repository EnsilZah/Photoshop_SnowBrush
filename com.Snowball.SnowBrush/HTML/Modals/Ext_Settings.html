<div id="modalSettings" class="modal2" style="color:rgba(215,215,215,1); overflow:hidden" >
	<fieldset class="mainGroup" style="display:block;height:100%">
	<legend style="color:color:rgba(215,215,215,1);font-weight:bold; vertical-align:middle;">Settings</legend>


    	<fieldset class="optionGroup" style="height:50px; width:200px;vertical-align:middle;">
     	<legend style="color:color:rgba(215,215,215,1);font-weight:bold;">Tools</legend>
			<button class='newButton modalButton' id="btnSettings_showTools" onClick='modalSettings.setShowTools(!modalSettings.tempSettings.showTools)' style= "width: 60px"> Show </button>
		</fieldset>

    	<fieldset class="optionGroup" style="height:50px; width:200px;vertical-align:middle;">
     	<legend style="color:color:rgba(215,215,215,1);font-weight:bold;">Recents</legend>
			<button class='newButton modalButton' id="btnSettings_showRecent" onClick='modalSettings.setShowRecent(!modalSettings.tempSettings.showRecent)' style= "width: 60px"> Show </button>
		</fieldset>

    	<fieldset class="optionGroup" style="height:50px; width:200px;vertical-align:middle;">
     	<legend style="color:color:rgba(215,215,215,1);font-weight:bold;">Search</legend>
			<button class='newButton modalButton' id="btnSettings_showSearch" onClick='modalSettings.setShowSearch(!modalSettings.tempSettings.showSearch)' style= "width: 60px"> Show </button>
		</fieldset>

    	<fieldset class="optionGroup" style="height:50px; width:200px;vertical-align:middle;">
     	<legend style="color:color:rgba(215,215,215,1);font-weight:bold;">Shared</legend>
			<button class='newButton modalButton' id="btnSettings_showShared" onClick='modalSettings.setShowShared(!modalSettings.tempSettings.showShared)'  style= "width: 60px"> Show </button>
		</fieldset>

   		<fieldset class="optionGroup" style="height:50px; width:200px;vertical-align:middle;">
     	<legend style="color:color:rgba(215,215,215,1);font-weight:bold;">Persistent</legend>
			<button class='newButton modalButton' id="btnSettings_enabledPersist" onClick='modalSettings.setPersist(!modalSettings.tempSettings.enablePersist)'  style= "width: 60px"> Enabled </button>
		</fieldset>

		<div class="footer">				
			<button class='newButton modalButton' onClick='modalSettings.ok();'  style= "width: 60px"> Ok </button>
			<button class='newButton modalButton' onClick='modalSettings.close()'  style= "width: 60px"> Cancel </button>
		</div>
	</fieldset>
</div>
			
<script>

var modalSettings =
{
	modal: document.getElementById('modalSettings'),

	tempSettings:
	{
		showTools:true,
		showRecent:true,
		showSearch:true,
		showShared:true,
		enablePersist:true,
	},

	open:function()
	{
		this.setShowTools(NBPanel.settings.values.showTools);
		this.setShowRecent(NBPanel.settings.values.showRecent);
		this.setShowSearch(NBPanel.settings.values.showSearch);
		this.setShowShared(NBPanel.settings.values.showShared);

		this.modal.style.display = "block";
	},

	close:function()
	{
		this.modal.style.display = "none";
	},

	ok:function()
	{
		/*      
        HPanel.settings.save();*/


		NBPanel.settings.showTools(this.tempSettings.showTools);
		NBPanel.settings.showRecent(this.tempSettings.showRecent);
		NBPanel.settings.showSearch(this.tempSettings.showSearch);
		NBPanel.settings.showShared(this.tempSettings.showShared);
		NBPanel.settings.write();
		onDocResize()

		this.close();
	},


	setShowTools:function(isEnabled)
	{
		this.tempSettings.showTools = isEnabled
		var element = document.getElementById('btnSettings_showTools')
		if(isEnabled)
		{ element.firstChild.data = "Show"; element.style.opacity = "1"; }
		else
		{ element.firstChild.data = "Hide"; element.style.opacity = "0.2"; }
	},

	setShowRecent:function(isEnabled)
	{
		this.tempSettings.showRecent = isEnabled
		var element = document.getElementById('btnSettings_showRecent')
		if(isEnabled)
		{ element.firstChild.data = "Show"; element.style.opacity = "1"; }
		else
		{ element.firstChild.data = "Hide"; element.style.opacity = "0.2"; }
	},

	setShowSearch:function(isEnabled)
	{
		this.tempSettings.showSearch = isEnabled
		var element = document.getElementById('btnSettings_showSearch')
		if(isEnabled)
		{ element.firstChild.data = "Show"; element.style.opacity = "1"; }
		else
		{ element.firstChild.data = "Hide"; element.style.opacity = "0.2"; }
	},

	setShowShared:function(isEnabled)
	{
		this.tempSettings.showShared = isEnabled
		var element = document.getElementById('btnSettings_showShared')
		if(isEnabled)
		{ element.firstChild.data = "Show"; element.style.opacity = "1"; }
		else
		{ element.firstChild.data = "Hide"; element.style.opacity = "0.2"; }
	},

	setPersist:function(isEnabled)
	{
		this.tempSettings.enablePersist = isEnabled
		var element = document.getElementById('btnSettings_enabledPersist')
		if(isEnabled)
		{ element.firstChild.data = "Enabled"; element.style.opacity = "1"; }
		else
		{ element.firstChild.data = "Disabled"; element.style.opacity = "0.2"; }
	},
}


</script>